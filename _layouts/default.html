<!doctype html>

<html lang="en">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	{% seo %}
	{% feed_meta %}

	<link rel="stylesheet" href="{{ site.baseurl }}/assets/css/screen.css">
	<link rel="stylesheet" href="{{ site.baseurl }}/assets/css/custom.css">
	<link rel="stylesheet" href="{{ site.baseurl }}/assets/css/lightbox.min.css">
	<link rel="icon" type="image/png" href="assets/favicon.png">

	{% if jekyll.environment == 'production' %}
	<script src="https://unpkg.com/@telemetrydeck/sdk/dist/telemetrydeck.min.js" defer></script>

	<!-- Matomo -->
	<script>
	  var _paq = window._paq = window._paq || [];
	  /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
	  _paq.push(['trackPageView']);
	  _paq.push(['enableLinkTracking']);
	  (function() {
	    var u="https://inyourfaceapp.matomo.cloud/";
	    _paq.push(['setTrackerUrl', u+'matomo.php']);
	    _paq.push(['setSiteId', '1']);
	    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
	    g.async=true; g.src='//cdn.matomo.cloud/inyourfaceapp.matomo.cloud/matomo.js'; s.parentNode.insertBefore(g,s);
	  })();
	</script>
	<!-- End Matomo Code -->

	{% endif %}
</head>

<body>
	<header>
		<div class="container">
			{% include navigation.html %}
		</div>
	</header>
	{{ content }}
	<footer>
		<div class="container">
			<div class="footer-columns">
				{% for column in site.data.footer %}
				<ul class="footer-links">
					{% for link in column.links %}
					<li><a {% if link.new_window %}target="_blank" {% endif %}
							href="{% include relative-src.html src=link.link %}"
							{% if link.social_icon %}class="{{ link.social_icon }}-icon" {% endif %}>
							{% if link.social_icon %}
							{% include social-icon.html icon=link.social_icon %}
							{% endif %}
							{{ link.name }}</a></li>
					{% endfor %}
				</ul>
				{% endfor %}
			</div>
			<p class="copyright">&copy; {{ site.time | date: '%Y' }} blue banana software • <a
					href="/privacy.html" target="_blank">Privacy Policy</a> • <a
					href="/terms.html" target="_blank">Terms of Service</a></p>
		</div>
	</footer>
	<script src="{{ site.baseurl }}/assets/js/lightbox-plus-jquery.min.js"></script>

	<script>
		lightbox.option({
			'resizeDuration': 200,
			'fadeDuration': 200,
			'imageFadeDuration': 200,
			'wrapAround': true
		})
	</script>

	<script>
		document.getElementById("open-nav").onclick = function () {
			document.body.classList.toggle("nav-open");
			return false;
		};
	</script>

	<script>
		const tdUserId = getCookie("tdUserId");
		if (!tdUserId) {
		  const newUserId = generateUUID();
		  setCookie("tdUserId", newUserId);
		}

		function getCookie(name) {
		  const value = "; " + document.cookie;
		  const parts = value.split("; " + name + "=");
		  if (parts.length === 2) {
		    return parts.pop().split(";").shift();
		  }
		}

		function setCookie(name, value) {
		  document.cookie = `${name}=${value};path=/`;
		}

		function generateUUID() {
		  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {
		    var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);
		    return v.toString(16);
		  });
		}

	  // Required: queue setup
	  td = window.td || [];
	  // Required: Set your application id
	  td.push(['app', '62591C9A-95A1-471E-A304-042F76F89DA4']);
	  // Required: Set a user idenfitier. 
	  // As per TelemetryDeck's documentation this is anonymized both on client and server side to be GDPR compliant.
	  td.push(['user', tdUserId]);

	  // Custom payload sent with the signal
	  td.push([
	    'signal', { route: '{{ page.url }}', },
	  ]);
	</script>
</body>

</html>